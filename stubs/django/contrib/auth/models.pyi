"""
This type stub file was generated by pyright.
"""

from collections.abc import Iterable
from typing import Any, Literal, TypeVar
from django.contrib.auth.base_user import AbstractBaseUser as AbstractBaseUser, BaseUserManager as BaseUserManager
from django.contrib.auth.validators import UnicodeUsernameValidator
from django.db import models
from django.db.models import QuerySet
from django.db.models.base import Model
from django.db.models.manager import EmptyManager
from django.utils.functional import _StrOrPromise
from typing_extensions import TypeAlias

"""
This type stub file was generated by pyright.
"""
_AnyUser: TypeAlias = ...
def update_last_login(sender: type[AbstractBaseUser], user: AbstractBaseUser, **kwargs: Any) -> None:
    ...

class PermissionManager(models.Manager[Permission]):
    def get_by_natural_key(self, codename: str, app_label: str, model: str) -> Permission:
        ...
    


class Permission(models.Model):
    content_type_id: int
    objects: PermissionManager
    name = ...
    content_type = ...
    codename = ...
    def natural_key(self) -> tuple[str, str, str]:
        ...
    


class GroupManager(models.Manager[Group]):
    def get_by_natural_key(self, name: str) -> Group:
        ...
    


class Group(models.Model):
    objects: GroupManager
    name = ...
    permissions = ...
    def natural_key(self) -> tuple[str]:
        ...
    


_T = TypeVar("_T", bound=Model)
class UserManager(BaseUserManager[_T]):
    def create_user(self, username: str, email: str | None = ..., password: str | None = ..., **extra_fields: Any) -> _T:
        ...
    
    def create_superuser(self, username: str, email: str | None = ..., password: str | None = ..., **extra_fields: Any) -> _T:
        ...
    
    def with_perm(self, perm: str | Permission, is_active: bool = ..., include_superusers: bool = ..., backend: str | None = ..., obj: Model | None = ...) -> QuerySet[_T]:
        ...
    


class PermissionsMixin(models.Model):
    is_superuser = ...
    groups = ...
    user_permissions = ...
    def get_user_permissions(self, obj: _AnyUser | None = ...) -> set[str]:
        ...
    
    def get_group_permissions(self, obj: _AnyUser | None = ...) -> set[str]:
        ...
    
    def get_all_permissions(self, obj: _AnyUser | None = ...) -> set[str]:
        ...
    
    def has_perm(self, perm: str, obj: _AnyUser | None = ...) -> bool:
        ...
    
    def has_perms(self, perm_list: Iterable[str], obj: _AnyUser | None = ...) -> bool:
        ...
    
    def has_module_perms(self, app_label: str) -> bool:
        ...
    


class AbstractUser(AbstractBaseUser, PermissionsMixin):
    username_validator: UnicodeUsernameValidator
    username = ...
    first_name = ...
    last_name = ...
    email = ...
    is_staff = ...
    is_active = ...
    date_joined = ...
    EMAIL_FIELD: str
    USERNAME_FIELD: str
    def get_full_name(self) -> str:
        ...
    
    def get_short_name(self) -> str:
        ...
    
    def email_user(self, subject: _StrOrPromise, message: _StrOrPromise, from_email: str = ..., **kwargs: Any) -> None:
        ...
    


class User(AbstractUser):
    ...


class AnonymousUser:
    id: Any
    pk: Any
    username: Literal[""]
    is_staff: Literal[False]
    is_active: Literal[False]
    is_superuser: Literal[False]
    def save(self) -> None:
        ...
    
    def delete(self) -> None:
        ...
    
    def set_password(self, raw_password: str) -> None:
        ...
    
    def check_password(self, raw_password: str) -> Any:
        ...
    
    @property
    def groups(self) -> EmptyManager[Group]:
        ...
    
    @property
    def user_permissions(self) -> EmptyManager[Permission]:
        ...
    
    def get_user_permissions(self, obj: _AnyUser | None = ...) -> set[str]:
        ...
    
    def get_group_permissions(self, obj: _AnyUser | None = ...) -> set[Any]:
        ...
    
    def get_all_permissions(self, obj: _AnyUser | None = ...) -> set[str]:
        ...
    
    def has_perm(self, perm: str, obj: _AnyUser | None = ...) -> bool:
        ...
    
    def has_perms(self, perm_list: Iterable[str], obj: _AnyUser | None = ...) -> bool:
        ...
    
    def has_module_perms(self, module: str) -> bool:
        ...
    
    @property
    def is_anonymous(self) -> Literal[True]:
        ...
    
    @property
    def is_authenticated(self) -> Literal[False]:
        ...
    
    def get_username(self) -> str:
        ...
    


