name: e2e-test-ios

env:
  MAESTRO_PROJECT_ID: $MAESTRO_PROJECT_ID
  MAESTRO_GROUP_ID: $MAESTRO_GROUP_ID
  RUNTIME_VERSION: $RUNTIME_VERSION

jobs:
  wait:
    type: get-build
    params:
      runtime_version: ${{ env.RUNTIME_VERSION }}
      platform: ios

  maestro_test:
    needs: [wait]
    type: maestro
    params:
      build_id: ${{ needs.wait.outputs.build_id }}
      flow_path: ['.maestro/ios/landing.yml']
